lot of code in common in buildSolid and buildLogical between the factories
